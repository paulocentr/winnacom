console.log('--- race condition tests ---\n');
console.log('these need actual api access\n');

console.log('1. double bet attack');
console.log('   send 10 identical bets at once');
console.log('   if balance only deducts once = vulnerable\n');

console.log('2. cashout replay');
console.log('   win a bet, replay the result request');
console.log('   should only pay once\n');

console.log('3. seed rotation race');
console.log('   bet while rotating server seed');
console.log('   outcome should use consistent seed\n');

console.log('manual test - use browser devtools:');
console.log(`
// copy bet request from network tab, then:
const req = () => fetch('/api/bet', { /* copied request */ });
Promise.all(Array(10).fill().map(() => req()))
  .then(r => console.log(r));
// check if balance deducted 10x or just 1x
`);
